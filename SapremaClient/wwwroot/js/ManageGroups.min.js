function updateGroup(n){var t=checkInput();t===!0&&update(n)}function checkInput(){var n=$("#GroupName").val();return n===""?!1:!0}function clearForm(){$("#GroupName").val("");$("#GroupDescription").val("")}function deleteModal(n){$(".modal-title").html("Delete Group");$(".modal-body").html("Are you sure you want to delete group:<br>"+$("#GroupName").val());$(".modal-footer").html('<button type="button" class="btn btn-default" id="deleteConfermation" data-dismiss="modal">Delete<\/button><button type="button" class="btn btn-default" data-dismiss="modal">Cancel<\/button>');$("#deleteConfermation").attr("onclick","deleteGroup('"+n+"')")}function createGroup(){var r="'"+$("#GroupDescription").val()+"'",u="'"+$("#GroupName").val()+"'",f=$("#GroupLevel").val(),n,t,i;n=$("#GroupStatus").is(":checked")?!0:!1;t='"{GroupStatus:'+n+",GroupName:"+u+",GroupDescription:"+r+",GroupLevel:"+f+'}"';i=urlMVC+"CreateGroup";$.ajax({type:"POST",url:i,contentType:"text/json",data:t,success:function(){clearForm();setupPage();$("#success-message").html("<span class='success'>Group Created<\/span>")},error:function(){console.log("error")}})}function deleteGroup(n){var t=urlMVC+"DeleteGroup?itemid="+n;$.ajax({type:"GET",url:t,contentType:"text/json",success:function(){clearForm();setupPage();$("#success-message").html("<span class='success'>Group Deleted<\/span>");$(".modal-body").html("");$(".modal-footer").html("");setupPage()},error:function(){console.log("error")}});$("#createGroup").show()}function update(n){var u="'"+$("#GroupDescription").val()+"'",f="'"+$("#GroupName").val()+"'",e=$("#GroupLevel").val(),t,i,r;t=$("#GroupStatus").is(":checked")?!0:!1;i='"{GroupStatus:'+t+",GroupName:"+f+",GroupDescription:"+u+",GroupLevel:"+e+'}"';r=urlMVC+"UpdateGroup?itemid="+n;console.log("dsfiujhsdufihsduofhsoduihfosiduhfsoidu");$.ajax({type:"POST",url:r,contentType:"text/json",data:i,success:function(){clearForm();$("#success-message").html("Group Updated");$("#createGroup").show();$("#updateGroup").hide();setupPage()},error:function(){console.log("error")}})}function editGroup(n){$("#createGroup").hide();$("#updateGroup").show();$("success-message").html("");var t="http://localhost:5001/api/groups/"+n;$.ajax({type:"GET",url:t,dataType:"json",contentType:"application/json;charset=utf-8"}).done(function(n){console.log(n);$("#GroupName").val(n.GroupName);$("#GroupDescription").val(n.GroupDescription);var t=n.GroupStatus;t==="True"?$("#GroupStatus").attr("checked",!0):$("#GroupStatus").attr("checked",!1);$("#GroupLevel").val(n.GroupLevel);$("#updateGroup").attr("onclick","updateGroup('"+n.GroupId+"')");$("#deleteGroup").attr("onclick","deleteModal('"+n.GroupId+"')");$("#success-message").html("");deleteModal(n.GroupId);$("#delete-button").show()})}function setupPage(){$("#updateGroup").hide();$("#delete-button").hide();$.ajax({type:"GET",url:"http://localhost:5001/api/usergroups/groups/cbdf1836-1c05-40bf-8505-245fc8bcf17e",dataType:"json",xhrFields:{withCredentials:!0}}).done(function(n){var t,i;for($("#group-list").html(""),t=0;t<n.length;t++)i="<span class='list-span'>"+n[t].GroupName+"<button onclick=\"editGroup('"+n[t].GroupId+'\')" class="btn btn-default" type="submit">Submit<\/button><\/span><hr /><br>',$("#group-list").append(i),JSON.stringify(n[t]);$("#group-name-error").hide()}).error(function(n,t){$("#group-list").text(n.responseText||t)})}var urlMVC="http://localhost:5002/Social/",urlAPI="http://localhost:5001/api/";$("#createGroup").on("click",function(){var n=checkInput();n===!0?createGroup():$("#group-name-error").show()});$(document).ready(function(){setupPage();$("#delete-group").hide()});